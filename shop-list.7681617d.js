!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={},s=n.parcelRequired7c6;null==s&&((s=function(e){if(e in r)return r[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){o[e]=t},n.parcelRequired7c6=s),s.register("iE7OH",(function(t,n){var r,o;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return o}),(function(e){return o=e}));var s={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)s[t[n]]=e[t[n]]},o=function(e){var t=s[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),s.register("aNJCr",(function(t,n){var r;e(t.exports,"getBundleURL",(function(){return r}),(function(e){return r=e}));var o={};function s(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(e){var t=o[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return s(e[2])}return"/"}(),o[e]=t),t}})),s("iE7OH").register(JSON.parse('{"2mR6f":"shop-list.7681617d.js","kxKJ3":"symbol-defs.ad97db76.svg","6AARr":"shop-bookmob@1x.bbf7bc53.jpg","9Jxmw":"index.a85521c5.css","9ke9W":"shop-list.3c2aadda.js"}')),s("9ZZxa"),s("4Nugj"),s("18VO4");var i=s("bpxeT"),a=s("2TvXO"),c=s("dIxxU"),l=s("4Nugj");function u(e){var t=e._id,n=e.book_image,r=e.title,o=e.list_name,s=e.description,i=e.author,a="",c=e.buy_links.filter((function(e){var t=e.name;return["Amazon","Apple Books","Bookshop"].includes(t)})),l=!0,u=!1,p=void 0;try{for(var f,d=c[Symbol.iterator]();!(l=(f=d.next()).done);l=!0){var h=f.value;a+='<li><a href="'.concat(h.url,'">').concat(h.name,"</a></li>")}}catch(e){u=!0,p=e}finally{try{l||null==d.return||d.return()}finally{if(u)throw p}}return'<div class="wrapper-shopping-list"><img src="'.concat(n||"https://storage.googleapis.com/du-prd/books/images/9780063226050.jpg",'" alt="').concat(r,'" width="100" height="142">\n    <div class="wrapper-text-shopping-list"> \n    <h2 class="title-book-shopping-list">').concat(r,'</h2>\n    <h3 class="category-book-shopping-list">').concat(o,'</h3>\n    <p class="description-book-shopping-list">').concat(s||"In a homage to Louisa May Alcott’s “Little Women,” a young man’s dark past resurfaces as he gets to the know the family of his college sweetheart.",'</p>\n    <p class="author-book-shopping-list">').concat(i,'</p>\n    <ul class="shops-shopping-list">\n      ').concat(a,'\n    </ul></div>\n    <button class="remove-from-shopping-list" data-book-id="').concat(t,'">\n      <svg class="remove-icon" width="16" height="16">\n        <use href="./images/symbol-defs.svg#icon-trash"></use>\n      </svg>\n    </button>\n    </div>\n   ')}s("aNJCr").getBundleURL("2mR6f"),s("iE7OH").resolve("kxKJ3");s("aNJCr").getBundleURL("2mR6f"),s("iE7OH").resolve("6AARr");var p="shopping_list";function f(){var e=localStorage.getItem(p);if(e)try{return JSON.parse(e)}catch(e){}return[]}function d(e){if(e){var t=f();t.includes(e)||(t.push(e),localStorage.setItem(p,JSON.stringify(t)))}}function h(){return(h=t(i)(t(a).mark((function e(){var n,r,o,s,i,l,u,p,d,h,v,b,m,k,x,y;return t(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=f(),r=[],o=!0,s=!1,i=void 0,e.prev=3,l=n[Symbol.iterator]();!(o=(u=l.next()).done);o=!0)p=u.value,r.push(c.default.get("https://books-backend.p.goit.global/books/".concat(p)));e.next=11;break;case 7:e.prev=7,e.t0=e.catch(3),s=!0,i=e.t0;case 11:e.prev=11,e.prev=12,o||null==l.return||l.return();case 14:if(e.prev=14,!s){e.next=17;break}throw i;case 17:return e.finish(14);case 18:return e.finish(11);case 19:return e.next=21,Promise.all(r);case 21:for(d=e.sent,h=!0,v=!1,b=void 0,e.prev=23,m=d[Symbol.iterator]();!(h=(k=m.next()).done);h=!0)x=k.value,y=x.data,console.log(y),g(y);e.next=31;break;case 27:e.prev=27,e.t1=e.catch(23),v=!0,b=e.t1;case 31:e.prev=31,e.prev=32,h||null==m.return||m.return();case 34:if(e.prev=34,!v){e.next=37;break}throw b;case 37:return e.finish(34);case 38:return e.finish(31);case 39:case"end":return e.stop()}}),e,null,[[3,7,11,19],[12,,14,18],[23,27,31,39],[32,,34,38]])})))).apply(this,arguments)}function g(e){var t=u(e);l.default.listContainer.insertAdjacentHTML("afterbegin",t)}l.default.listContainer.addEventListener("click",(function(e){e.target.classList.contains("remove-from-shopping-list")&&function(e,t){t.target.closest("div.wrapper-shopping-list").remove();var n=f();if(n.includes(e)){var r=n.indexOf(e);n.splice(r,1),localStorage.setItem(p,JSON.stringify(n))}0===n.length&&(o='<p class="empty-shopping-list">This page is empty, add some books and proceed to order.</p>\n  <img\n    src="./src/images/shop-bookdesk@1x.jpg"\n    alt=""\n    class="image-empty-shopping-list"\n    width="200"\n    height="300"\n  />',l.default.listContainer.innerHTML=o);var o}(e.target.dataset.bookId,e)})),d("643282b1e85766588626a080"),d("643282b1e85766588626a0ba"),console.log("book list:",f()),function(){h.apply(this,arguments)}();s("i8Q71"),s("6VMVE")}();
//# sourceMappingURL=shop-list.7681617d.js.map
