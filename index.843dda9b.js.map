{"mappings":"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","sources":["src/index.js","src/js/render-main-gallery.js","src/js/all-requests.js","src/js/categories-list-markup.js"],"sourcesContent":["import './js/darkTheme';\nimport './js/refs';\nimport './js/render-main-gallery';\nimport './js/all-requests';\nimport './js/support-ukraine';\nimport './js/autorization-modal';\nimport './js/categories-list-markup';\n\n\n\n\n\n\n","import refs from './refs';\n\nexport function renderRowGallery(row) {\n  return row\n    .map(elem =>\n      elem.title.length < 17\n        ? `<div class=\"book-card-wrapper\" data-idbook=\"${elem._id}\"><a href=\"#\">\n            <img src=\"${elem.book_image}\" alt=\"${elem.title}\" height=\"256\" loading=\"lazy\"/> \n            <p class=\"book-name\">${elem.title}</p>\n            <p class=\"book-author\">${elem.author}</p>\n          </a></div>`\n        : `<div class=\"book-card-wrapper\" data-idbook=\"${elem._id}\"><a  href=\"#\">\n            <img src=\"${elem.book_image}\" alt=\"${\n            elem.title\n          }\" height=\"256\" loading=\"lazy\"/> \n            <p class=\"book-name\">${elem.title\n              .split('')\n              .slice(0, 17)\n              .join('')}...</p>\n            <p class=\"book-author\">${elem.author}</p>\n          </a></div>`\n    )\n    .join('');\n}\n\n// функція створення заголовку заголовку групи книг\nexport function renderGalleryCat(books, cat) {\n  refs.mainGalleryEl.innerHTML = '';\n  let idx = Math.trunc(cat.split(' ').length / 2);\n  refs.mainGalleryTitleEl.innerHTML = `${cat\n    .split(' ')\n    .splice(0, idx)\n    .join(' ')} \n  <span class=\"category-title-span\">${cat\n    .split(' ')\n    .splice(idx, idx)\n    .join(' ')}</span>`;\n  let markUp = '';\n  markUp = renderRowGallery(books);\n  refs.mainGalleryEl.classList.add('gal-category');\n  refs.mainGalleryEl.insertAdjacentHTML('beforeend', markUp);\n}\n\nexport function renderGallery(books) {\n  refs.mainGalleryEl.classList.remove('gal-category');\n  refs.mainGalleryTitleEl.innerHTML =\n    \"Best Sellers <span class='category-title-span'>Books</span>\";\n  refs.mainGalleryEl.innerHTML = '';\n  let markUp = '';\n  markUp = books\n    .map(elem =>\n      window.innerWidth >= 1440\n        ? `<div class=\"books-category\">\n          <p class=\"books-category-title\">${elem.list_name}</p>\n          <ul\">\n            <li class=\"books__list\">${renderRowGallery(elem.books)}</li>\n          </ul>\n          <button class=\"button-see-more\" type=\"button\" data-cat=\"${\n            elem.list_name\n          }\">SEE MORE</button>\n        </div>`\n        : window.innerWidth >= 768\n        ? `<div class=\"books-category\">\n          <p class=\"books-category-title\">${elem.list_name}</p>\n          <ul\">\n            <li class=\"books__list\">${renderRowGallery(\n              elem.books.slice(0, 3)\n            )}</li>\n          </ul>\n          <button class=\"button-see-more\" type=\"button\" data-cat=\"${\n            elem.list_name\n          }\">SEE MORE</button>\n        </div>`\n        : `<div class=\"books-category\">\n          <p class=\"books-category-title\">${elem.list_name}</p>\n          <ul\">\n            <li class=\"books__list\">${renderRowGallery(\n              elem.books.slice(0, 1)\n            )}</li>\n          </ul>\n          <button class=\"button-see-more\" type=\"button\" data-cat=\"${\n            elem.list_name\n          }\">SEE MORE</button>\n        </div>`\n    )\n    .join('');\n\n  refs.mainGalleryEl.insertAdjacentHTML('beforeend', markUp);\n}","// import axios from 'axios';\n// export const BASE_URL = 'https://books-backend.p.goit.global/books/';\n\n// const booksCategoriesEndpoit = 'category-list';\n// const topBooksEndpoint = 'top-books';\n// const booksCategoryEndpoint = 'category';\n\n// // Повертає об'єкт з властивістю data, його значення = масив обєктів (всі категорії)\n// export async function getCategories() {\n//   try {\n//     const response = await axios.get(`${BASE_URL}${booksCategoriesEndpoit}`);\n//     return response.data;\n//   } catch (error) {\n//     console.log(error);\n//     return error;\n//   }\n// }\n\n// // Повертає об'єкт з властивістю data, його значення = масив обєктів (всі категорії), в кожному обєкті значення властивості books = масив з топовими книгами\n// export async function getTopBooks() {\n//   const response = await axios.get(`${BASE_URL}${topBooksEndpoint}`);\n//   const topBooksArr = response.data.flatMap(item => item.books);\n//   return topBooksArr;\n// }\nimport axios from 'axios';\nimport { renderGallery, renderGalleryCat } from './render-main-gallery';\nimport refs from './refs';\n\nconst BASE_URL = 'https://books-backend.p.goit.global/books/';\n\n//  отримання даних по топовим книгам\nexport async function mainGallery() {\n  try {\n    const response = await axios.get(`${BASE_URL}top-books`);\n    renderGallery(response.data);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n//  отримання даних по  категоріям\nexport async function mainGalleryCategory(cat) {\n  try {\n   \n    const response = await axios.get(`${BASE_URL}category?category=${cat}`);\n    console.log(response.data);\n    renderGalleryCat(response.data, cat);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nmainGallery();\n\nrefs.mainGalleryEl.addEventListener('click', onBtnSeeMoreCategory);\n\n// вибір категорії \nfunction onBtnSeeMoreCategory(evt) {\n  if (evt.target.dataset.cat) {\n    mainGalleryCategory(evt.target.dataset.cat);\n  }\n}\n\n// отримання списку категорій\nexport async function getCategoriesList() {\n  return await axios.get(`${BASE_URL}category-list`);\n}\n","// import { getCategoriesList } from './all-requests';\n\n// const categoriesList = document.querySelector('.sidebar__book-categories-list');\n\n// export function markupCategoriesList(categories) {\n//     return categories.map(({list_name}) =>\n//     `<li class=\"category-list-item\">\n//         <button type=\"button\" class=\"category\">\n//             ${list_name}\n//         </button>\n//     </li>`).join(\"\");\n// }\n\n// getCategoriesList().then(catList => {\n//     const categories =\n//         `<li class=\"category-list-item first-elem-js\">\n//         <button type=\"button\" class=\"category all-categories\">\n//             All categories\n//         </button>\n//     </li>` + markupCategoriesList(catList);\n//     categoriesList.innerHTML = categories;\n// }).catch(err => {\n//     categoriesList.innerHTML =\n//         `<li class=\"category-list-item\">\n//             <p class=\"categories-err\">\n//                 The list of categories is empty\n//             </p>\n//         </li>`;\n//     console.log(err);\n// });\n\n\nimport {\n  getCategoriesList,\n  mainGalleryCategory,\n  mainGallery,\n} from './all-requests';\nimport refs from './refs';\n\n// функція створення списку категорій у сайдбарі\nfunction createMarkupCategoriesList(categories) {\n  return categories\n    .map(\n      ({ list_name }) =>\n        `<li class=\"category-list-item\"><button type=\"button\" class=\"category\">${list_name}</button></li>`\n    )\n    .join('');\n}\n\nconst listFillingError =\n  '<li class=\"category-list-item\"><p class=\"categories-err\">The list of categories is empty</p></li>';\n\n// функція відтворення списку категорій\ngetCategoriesList()\n  .then(async resp => {\n    const categories = resp.data;\n    if (categories.length === 0) {\n      refs.categoriesList.innerHTML = listFillingError;\n      return;\n    }\n    const markup =\n      `<li class=\"category-list-item active\"><button type=\"button\" class=\"category category-active\">All categories</button></li>` +\n      createMarkupCategoriesList(categories);\n    refs.categoriesList.innerHTML = markup;\n  })\n  .catch(err => {\n    refs.categoriesList.innerHTML = listFillingError;\n  });\nrefs.categoriesList.addEventListener('click', onCategoryClick);\n\n// функція вибору категорії зі списку\nfunction onCategoryClick(evt) {\n  const categoryName = evt.target;\n  const listOfCategories = [...evt.currentTarget.children];\n  if (categoryName.classList.contains('category')) {\n    if (categoryName.textContent === 'All categories') {\n      removeActive(listOfCategories);\n      activateCategory(categoryName);\n      mainGallery();\n      return;\n    } else {\n      refs.mainGalleryEl.innerHTML = '';\n      mainGalleryCategory(categoryName.textContent);\n    }\n  }\n  if (categoryName.classList.contains('category')) {\n    removeActive(listOfCategories);\n    activateCategory(categoryName);\n  }\n}\n\nrefs.mainGalleryEl.addEventListener('click', onBtnSeeMore);\n\n// функція зміни категорії при натисканні кнопки SeeMore\nfunction onBtnSeeMore(evt) {\n  const categName = evt.target.dataset.cat;\n  const categList = [...refs.categoriesList.children];\n  if (categName) {\n    for (let i = 0; i < categList.length; i++) {\n      if (categList[i].firstChild.textContent === categName) {\n        removeActive(categList)\n        activateCategory(categList[i].firstChild)\n      }\n    }\n  }\n}\n\n// функція активації категорії\nfunction activateCategory(nameOfCategory){\n  nameOfCategory.parentNode.classList.add('active');\n  nameOfCategory.classList.add('category-active');\n}\n\n// функція деактивації категорії\nfunction removeActive(categories) {\n  for (let i = 0; i < categories.length; i++){\n    if ((categories[i].classList.contains('active'))) {\n      categories[i].classList.remove('active');\n        categories[i].firstChild.classList.remove('category-active');\n      }\n    }\n}"],"names":["parcelRequire","$4Nugj","$d7e6aafd42956a53$export$85cefb2fabc8c0f0","row","map","elem","title","length","concat","_id","book_image","author","split","slice","join","$d7e6aafd42956a53$export$7dcf25385cf5c147","books","cat","default","mainGalleryEl","innerHTML","idx","Math","trunc","mainGalleryTitleEl","splice","markUp","classList","add","insertAdjacentHTML","$d7e6aafd42956a53$export$30b0ee8bdb5cac31","remove","window","innerWidth","list_name","$bpxeT","$a1eb20b8d2f7e21f$var$BASE_URL","$a1eb20b8d2f7e21f$export$6794bbbaf63d55ec","$a1eb20b8d2f7e21f$var$_mainGallery","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","$dIxxU","get","_ctx","sent","data","console","log","t0","$a1eb20b8d2f7e21f$export$a206ad0fcd59f5cb","$a1eb20b8d2f7e21f$var$_mainGalleryCategory","response","$a1eb20b8d2f7e21f$var$_getCategoriesList","addEventListener","evt","target","dataset","$0b980f37d3efcab0$var$createMarkupCategoriesList","categories","param","$0b980f37d3efcab0$var$listFillingError","$0b980f37d3efcab0$var$activateCategory","nameOfCategory","parentNode","$0b980f37d3efcab0$var$removeActive","i","contains","firstChild","then","resp","markup","categoriesList","catch","err","categoryName","listOfCategories","$8nrFW","currentTarget","children","textContent","categName","categList"],"version":3,"file":"index.843dda9b.js.map"}