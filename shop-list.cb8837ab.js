!function(){function n(n,e,t,r){Object.defineProperty(n,e,{get:t,set:r,enumerable:!0,configurable:!0})}function e(n){return n&&n.__esModule?n.default:n}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={},s=t.parcelRequired7c6;null==s&&((s=function(n){if(n in r)return r[n].exports;if(n in o){var e=o[n];delete o[n];var t={id:n,exports:{}};return r[n]=t,e.call(t.exports,t,t.exports),t.exports}var s=new Error("Cannot find module '"+n+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(n,e){o[n]=e},t.parcelRequired7c6=s),s.register("iE7OH",(function(e,t){var r,o;n(e.exports,"register",(function(){return r}),(function(n){return r=n})),n(e.exports,"resolve",(function(){return o}),(function(n){return o=n}));var s={};r=function(n){for(var e=Object.keys(n),t=0;t<e.length;t++)s[e[t]]=n[e[t]]},o=function(n){var e=s[n];if(null==e)throw new Error("Could not resolve bundle with id "+n);return e}})),s.register("aNJCr",(function(e,t){var r;n(e.exports,"getBundleURL",(function(){return r}),(function(n){return r=n}));var o={};function s(n){return(""+n).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(n){var e=o[n];return e||(e=function(){try{throw new Error}catch(e){var n=(""+e.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(n)return s(n[2])}return"/"}(),o[n]=e),e}})),s("iE7OH").register(JSON.parse('{"2mR6f":"shop-list.cb8837ab.js","kxKJ3":"symbol-defs.fac9ab6e.svg","3LSzh":"shop-bookdesk@1x.bbf7bc53.jpg","2kw6b":"amazon@1x.c829ac70.png","7lxR1":"amazon@2x.24de444e.png","hgtzv":"apple@1x.9b2fbf78.png","4gokh":"apple@2x.fdf3a6a7.png","jI19x":"bookshop@1x.9b60ea58.png","dOsnV":"bookshop@2x.927a7722.png","9ke9W":"shop-list.c78ebea0.js"}')),s("9ZZxa"),s("4Nugj");var a,i=s("bpxeT"),c=s("2TvXO"),l=s("dIxxU"),p=s("4Nugj");a=s("aNJCr").getBundleURL("2mR6f")+s("iE7OH").resolve("kxKJ3");var u=new URL(a);u.hash="icon-trash";var g;g=s("aNJCr").getBundleURL("2mR6f")+s("iE7OH").resolve("3LSzh");var f,h=new URL(g);f=s("aNJCr").getBundleURL("2mR6f")+s("iE7OH").resolve("2kw6b");var d,v=new URL(f);d=s("aNJCr").getBundleURL("2mR6f")+s("iE7OH").resolve("7lxR1");var b,m=new URL(d);b=s("aNJCr").getBundleURL("2mR6f")+s("iE7OH").resolve("hgtzv");var x,R=new URL(b);x=s("aNJCr").getBundleURL("2mR6f")+s("iE7OH").resolve("4gokh");var k,w=new URL(x);k=s("aNJCr").getBundleURL("2mR6f")+s("iE7OH").resolve("jI19x");var H,_=new URL(k);H=s("aNJCr").getBundleURL("2mR6f")+s("iE7OH").resolve("dOsnV");var E=new URL(H);var L="shopping_list";function O(){var n=localStorage.getItem(L);if(n)try{return JSON.parse(n)}catch(n){}return[]}function U(){return(U=e(i)(e(c).mark((function n(){var t,r,o,s,a,i,p,u,g,f,h,d,v,b,m;return e(c).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(t=O(),r=[],o=!0,s=!1,a=void 0,n.prev=3,i=t[Symbol.iterator]();!(o=(p=i.next()).done);o=!0)u=p.value,r.push(l.default.get("https://books-backend.p.goit.global/books/".concat(u)));n.next=11;break;case 7:n.prev=7,n.t0=n.catch(3),s=!0,a=n.t0;case 11:n.prev=11,n.prev=12,o||null==i.return||i.return();case 14:if(n.prev=14,!s){n.next=17;break}throw a;case 17:return n.finish(14);case 18:return n.finish(11);case 19:return n.next=21,Promise.all(r);case 21:for(g=n.sent,f=!0,h=!1,d=void 0,n.prev=23,v=g[Symbol.iterator]();!(f=(b=v.next()).done);f=!0)m=b.value,S(m.data);n.next=31;break;case 27:n.prev=27,n.t1=n.catch(23),h=!0,d=n.t1;case 31:n.prev=31,n.prev=32,f||null==v.return||v.return();case 34:if(n.prev=34,!h){n.next=37;break}throw d;case 37:return n.finish(34);case 38:return n.finish(31);case 39:case"end":return n.stop()}}),n,null,[[3,7,11,19],[12,,14,18],[23,27,31,39],[32,,34,38]])})))).apply(this,arguments)}function y(){var n='<p class="empty-shopping-list">This page is empty, add some books and proceed to order.</p>\n  <img\n    src="'.concat(h,'"\n    alt=""\n    class="image-empty-shopping-list"\n    width="200"\n    height="300"\n  />');p.default.listContainer.innerHTML=n}function S(n){var e,t,r,o,s,a,i,c,l=(t=(e=n)._id,r=e.book_image,o=e.title,s=e.list_name,a=e.description,i=e.author,c=e.buy_links,'<div class="wrapper-shopping-list">\n  <div class="wrapper-img-shopping-list"><img src="'.concat(r||"https://storage.googleapis.com/du-prd/books/images/9780063226050.jpg",'" alt="').concat(o,'"></div>\n    <div class="wrapper-text-shopping-list"> \n    <h2 class="title-book-shopping-list">').concat(o,'</h2>\n    <h3 class="category-book-shopping-list">').concat(s,'</h3>\n    <p class="description-book-shopping-list">').concat(a||"Coming soon",'</p>\n    <div class="bottom-wrapper-shopping-list">\n      <p class="author-book-shopping-list">').concat(i||"Coming soon",'</p>\n      <ul class="shops-shopping-list">\n        <li>\n          <a href="').concat(c[0].url,'" class="shop-item-shopping-list" target="_blank">\n            <img\n              srcset="').concat(v," 1x, ").concat(m,' 2x"\n              src="').concat(v,'"\n              alt="Amazon"\n              class="amazon-image-shopping-list"\n              width="48"\n              height="15"\n            />\n          </a>\n        </li>\n        <li>\n          <a href="').concat(c[1].url,'" class="shop-item-shopping-list" target="_blank">\n            <img\n              srcset="').concat(R," 1x, ").concat(w,' 2x"\n              src="').concat(R,'"\n              alt="Apple Book"\n              class="apple-image-shopping-list"\n              width="28"\n              height="27"\n            />\n          </a>\n        </li>\n        <li>\n          <a href="').concat(c[4].url,'" class="shop-item-shopping-list" target="_blank">\n            <img\n              srcset="').concat(_," 1x, ").concat(E,' 2x"\n              src="').concat(_,'"\n              alt="Bookshop"\n              class="books-image-shopping-list"\n              width="32"\n              height="30"\n            />\n          </a>\n        </li>\n\n      </ul>\n    </div></div>\n    <button class="remove-from-shopping-list" data-book-id="').concat(t,'">\n      <svg class="remove-icon" width="16" height="16">\n        <use href="').concat(u,'"></use>\n      </svg>\n    </button>\n    </div>\n   '));p.default.listContainer.insertAdjacentHTML("afterbegin",l)}p.default.listContainer&&(!function(){U.apply(this,arguments)}(),p.default.listContainer.addEventListener("click",(function(n){n.target.closest(".remove-from-shopping-list")&&(!function(n){if(n){var e=O();if(e.includes(n)){var t=e.indexOf(n);e.splice(t,1),localStorage.setItem(L,JSON.stringify(e))}}}(n.target.dataset.bookId),n.target.closest("div.wrapper-shopping-list").remove(),0===O().length&&y())}))),s("i8Q71"),s("71iYL")}();
//# sourceMappingURL=shop-list.cb8837ab.js.map
