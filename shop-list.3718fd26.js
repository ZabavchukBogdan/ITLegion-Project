!function(){function e(e,n,t,r){Object.defineProperty(e,n,{get:t,set:r,enumerable:!0,configurable:!0})}function n(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in o){var n=o[e];delete o[e];var t={id:e,exports:{}};return r[e]=t,n.call(t.exports,t,t.exports),t.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){o[e]=n},t.parcelRequired7c6=a),a.register("iE7OH",(function(n,t){var r,o;e(n.exports,"register",(function(){return r}),(function(e){return r=e})),e(n.exports,"resolve",(function(){return o}),(function(e){return o=e}));var a={};r=function(e){for(var n=Object.keys(e),t=0;t<n.length;t++)a[n[t]]=e[n[t]]},o=function(e){var n=a[e];if(null==n)throw new Error("Could not resolve bundle with id "+e);return n}})),a.register("aNJCr",(function(n,t){var r;e(n.exports,"getBundleURL",(function(){return r}),(function(e){return r=e}));var o={};function a(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(e){var n=o[e];return n||(n=function(){try{throw new Error}catch(n){var e=(""+n.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return a(e[2])}return"/"}(),o[e]=n),n}})),a("iE7OH").register(JSON.parse('{"2mR6f":"shop-list.3718fd26.js","kxKJ3":"symbol-defs.fac9ab6e.svg","3LSzh":"shop-bookdesk@1x.bbf7bc53.jpg","7UEQI":"amazon@1x.d254faae.png","7lxR1":"amazon@2x.24de444e.png","hgtzv":"apple@1x.9b2fbf78.png","4gokh":"apple@2x.fdf3a6a7.png","jI19x":"bookshop@1x.9b60ea58.png","dOsnV":"bookshop@2x.927a7722.png","9ke9W":"shop-list.c78ebea0.js"}')),a("9ZZxa"),a("4Nugj");var s,i=a("bpxeT"),c=a("2TvXO"),l=a("dIxxU"),p=a("4Nugj");s=a("aNJCr").getBundleURL("2mR6f")+a("iE7OH").resolve("kxKJ3");var u=new URL(s);u.hash="icon-trash";var g;g=a("aNJCr").getBundleURL("2mR6f")+a("iE7OH").resolve("3LSzh");var h,f=new URL(g);h=a("aNJCr").getBundleURL("2mR6f")+a("iE7OH").resolve("7UEQI");var d,v=new URL(h);d=a("aNJCr").getBundleURL("2mR6f")+a("iE7OH").resolve("7lxR1");var b,m=new URL(d);b=a("aNJCr").getBundleURL("2mR6f")+a("iE7OH").resolve("hgtzv");var x,R=new URL(b);x=a("aNJCr").getBundleURL("2mR6f")+a("iE7OH").resolve("4gokh");var k,w=new URL(x);k=a("aNJCr").getBundleURL("2mR6f")+a("iE7OH").resolve("jI19x");var H,_=new URL(k);H=a("aNJCr").getBundleURL("2mR6f")+a("iE7OH").resolve("dOsnV");var E=new URL(H);var L="shopping_list";function y(){var e=localStorage.getItem(L);if(e)try{return JSON.parse(e)}catch(e){}return[]}function O(e){if(e){var n=y();n.includes(e)||(n.push(e),localStorage.setItem(L,JSON.stringify(n)))}}function U(e,n){n.target.closest("div.wrapper-shopping-list").remove();var t,r=y();if(r.includes(e)){var o=r.indexOf(e);r.splice(o,1),localStorage.setItem(L,JSON.stringify(r))}0===r.length&&(t='<p class="empty-shopping-list">This page is empty, add some books and proceed to order.</p>\n  <img\n    src="'.concat(f,'"\n    alt=""\n    class="image-empty-shopping-list"\n    width="200"\n    height="300"\n  />'),p.default.listContainer.innerHTML=t)}function S(){return(S=n(i)(n(c).mark((function e(){var t,r,o,a,s,i,p,u,g,h,f,d,v,b,m,x;return n(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=y(),r=[],o=!0,a=!1,s=void 0,e.prev=3,i=t[Symbol.iterator]();!(o=(p=i.next()).done);o=!0)u=p.value,r.push(l.default.get("https://books-backend.p.goit.global/books/".concat(u)));e.next=11;break;case 7:e.prev=7,e.t0=e.catch(3),a=!0,s=e.t0;case 11:e.prev=11,e.prev=12,o||null==i.return||i.return();case 14:if(e.prev=14,!a){e.next=17;break}throw s;case 17:return e.finish(14);case 18:return e.finish(11);case 19:return e.next=21,Promise.all(r);case 21:for(g=e.sent,h=!0,f=!1,d=void 0,e.prev=23,v=g[Symbol.iterator]();!(h=(b=v.next()).done);h=!0)m=b.value,x=m.data,console.log(x),N(x);e.next=31;break;case 27:e.prev=27,e.t1=e.catch(23),f=!0,d=e.t1;case 31:e.prev=31,e.prev=32,h||null==v.return||v.return();case 34:if(e.prev=34,!f){e.next=37;break}throw d;case 37:return e.finish(34);case 38:return e.finish(31);case 39:case"end":return e.stop()}}),e,null,[[3,7,11,19],[12,,14,18],[23,27,31,39],[32,,34,38]])})))).apply(this,arguments)}function N(e){var n,t,r,o,a,s,i,c,l=(t=(n=e)._id,r=n.book_image,o=n.title,a=n.list_name,s=n.description,i=n.author,c=n.buy_links,'<div class="wrapper-shopping-list">\n  <div class="wrapper-img-shopping-list"><img src="'.concat(r||"https://storage.googleapis.com/du-prd/books/images/9780063226050.jpg",'" alt="').concat(o,'"></div>\n    <div class="wrapper-text-shopping-list"> \n    <h2 class="title-book-shopping-list">').concat(o,'</h2>\n    <h3 class="category-book-shopping-list">').concat(a,'</h3>\n    <p class="description-book-shopping-list">').concat(s||"In a homage to Louisa May Alcott’s “Little Women,” a young man’s dark past resurfaces as he gets to the know the family of his college sweetheart.",'</p>\n    <div class="bottom-wrapper-shopping-list">\n      <p class="author-book-shopping-list">').concat(i,'</p>\n      <ul class="shops-shopping-list">\n        <li>\n          <a href="').concat(c[0].url,'" class="shop-item-shopping-list" target="_blank">\n            <img\n              srcset="').concat(v," 1x, ").concat(m,' 2x"\n              src="').concat(v,'"\n              alt="Amazon"\n              class="amazon-image-shopping-list"\n              width="48"\n              height="15"\n            />\n          </a>\n        </li>\n        <li>\n          <a href="').concat(c[1].url,'" class="shop-item-shopping-list" target="_blank">\n            <img\n              srcset="').concat(R," 1x, ").concat(w,' 2x"\n              src="').concat(R,'"\n              alt="Apple Book"\n              class="apple-image-shopping-list"\n              width="28"\n              height="27"\n            />\n          </a>\n        </li>\n        <li>\n          <a href="').concat(c[4].url,'" class="shop-item-shopping-list" target="_blank">\n            <img\n              srcset="').concat(_," 1x, ").concat(E,' 2x"\n              src="').concat(_,'"\n              alt="Bookshop"\n              class="books-image-shopping-list"\n              width="32"\n              height="30"\n            />\n          </a>\n        </li>\n\n      </ul>\n    </div></div>\n    <button class="remove-from-shopping-list" data-book-id="').concat(t,'">\n      <svg class="remove-icon" width="16" height="16">\n        <use href="').concat(u,'"></use>\n      </svg>\n    </button>\n    </div>\n   '));p.default.listContainer.insertAdjacentHTML("afterbegin",l)}!function(){S.apply(this,arguments)}();p.default.listContainer&&(p.default.listContainer.addEventListener("click",(function(e){e.target.classList.contains("remove-from-shopping-list")&&U(e.target.dataset.bookId,e)})),O("643282b1e85766588626a080"),O("643282b1e85766588626a0ba")),a("i8Q71"),a("71iYL")}();
//# sourceMappingURL=shop-list.3718fd26.js.map
