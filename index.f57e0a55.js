var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},a={},l=t.parcelRequired7c6;null==l&&((l=function(t){if(t in e)return e[t].exports;if(t in a){var l=a[t];delete a[t];var i={id:t,exports:{}};return e[t]=i,l.call(i.exports,i,i.exports),i.exports}var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(t,e){a[t]=e},t.parcelRequired7c6=l),l("it0VB"),l("krGWQ");var i=l("krGWQ");function n(t){return t.map((t=>t.title.length<17?`<div class="book-card-wrapper" data-idbook="${t._id}"><a href="#">\n            <img src="${t.book_image}" alt="${t.title}" height="256" loading="lazy"/> \n            <p class="book-name">${t.title}</p>\n            <p class="book-author">${t.author}</p>\n          </a></div>`:`<div class="book-card-wrapper" data-idbook="${t._id}"><a  href="#">\n            <img src="${t.book_image}" alt="${t.title}" height="256" loading="lazy"/> \n            <p class="book-name">${t.title.split("").slice(0,17).join("")}...</p>\n            <p class="book-author">${t.author}</p>\n          </a></div>`)).join("")}function o(t,e){i.default.mainGalleryEl.innerHTML="";let a=Math.trunc(e.split(" ").length/2);i.default.mainGalleryTitleEl.innerHTML=`${e.split(" ").splice(0,a).join(" ")} \n  <span class="category-title-span">${e.split(" ").splice(a,a).join(" ")}</span>`;let l="";l=n(t),i.default.mainGalleryEl.classList.add("gal-category"),i.default.mainGalleryEl.insertAdjacentHTML("beforeend",l)}function s(t){i.default.mainGalleryEl.classList.remove("gal-category"),i.default.mainGalleryTitleEl.innerHTML="Best Sellers <span class='category-title-span'>Books</span>",i.default.mainGalleryEl.innerHTML="";let e="";e=t.map((t=>window.innerWidth>=1440?`<div class="books-category">\n          <p class="books-category-title">${t.list_name}</p>\n          <ul">\n            <li class="books__list">${n(t.books)}</li>\n          </ul>\n          <button class="button-see-more" type="button" data-cat="${t.list_name}">SEE MORE</button>\n        </div>`:window.innerWidth>=768?`<div class="books-category">\n          <p class="books-category-title">${t.list_name}</p>\n          <ul">\n            <li class="books__list">${n(t.books.slice(0,3))}</li>\n          </ul>\n          <button class="button-see-more" type="button" data-cat="${t.list_name}">SEE MORE</button>\n        </div>`:`<div class="books-category">\n          <p class="books-category-title">${t.list_name}</p>\n          <ul">\n            <li class="books__list">${n(t.books.slice(0,1))}</li>\n          </ul>\n          <button class="button-see-more" type="button" data-cat="${t.list_name}">SEE MORE</button>\n        </div>`)).join(""),i.default.mainGalleryEl.insertAdjacentHTML("beforeend",e)}var c=l("2shzp");i=l("krGWQ");async function r(){try{s((await c.default.get("https://books-backend.p.goit.global/books/top-books")).data)}catch(t){console.log(t)}}async function d(t){try{const e=await c.default.get(`https://books-backend.p.goit.global/books/category?category=${t}`);console.log(e.data),o(e.data,t)}catch(t){console.log(t)}}r(),i.default.mainGalleryEl.addEventListener("click",(function(t){t.target.dataset.cat&&d(t.target.dataset.cat)})),l("75VGX");i=l("krGWQ");function u(t){t.parentNode.classList.add("active"),t.classList.add("category-active")}function g(t){for(let e=0;e<t.length;e++)t[e].classList.contains("active")&&(t[e].classList.remove("active"),t[e].firstChild.classList.remove("category-active"))}(async function(){return await c.default.get("https://books-backend.p.goit.global/books/category-list")})().then((async t=>{const e=t.data;if(0===e.length)return void(i.default.categoriesList.innerHTML='<li class="category-list-item"><p class="categories-err">The list of categories is empty</p></li>');const a='<li class="category-list-item active"><button type="button" class="category category-active">All categories</button></li>'+function(t){return t.map((({list_name:t})=>`<li class="category-list-item"><button type="button" class="category">${t}</button></li>`)).join("")}(e);i.default.categoriesList.innerHTML=a})).catch((t=>{i.default.categoriesList.innerHTML='<li class="category-list-item"><p class="categories-err">The list of categories is empty</p></li>'})),i.default.categoriesList.addEventListener("click",(function(t){const e=t.target,a=[...t.currentTarget.children];if(e.classList.contains("category")){if("All categories"===e.textContent)return g(a),u(e),void r();i.default.mainGalleryEl.innerHTML="",d(e.textContent)}e.classList.contains("category")&&(g(a),u(e))})),i.default.mainGalleryEl.addEventListener("click",(function(t){const e=t.target.dataset.cat,a=[...i.default.categoriesList.children];if(e)for(let t=0;t<a.length;t++)a[t].firstChild.textContent===e&&(g(a),u(a[t].firstChild))}));
//# sourceMappingURL=index.f57e0a55.js.map
